# ガントチャートアプリケーション データベース構造

## 概要
このアプリケーションは、Laravel 10を使用したガントチャート管理システムです。
ユーザーはプロジェクトを作成し、各プロジェクトにタスクを追加してガントチャートで管理できます。

## テーブル構造

### 1. users テーブル
Laravelのデフォルトユーザーテーブルです。

**フィールド:**
- `id` - 主キー（自動インクリメント）
- `name` - ユーザー名
- `email` - メールアドレス（ユニーク）
- `email_verified_at` - メール認証日時
- `password` - パスワード（ハッシュ化）
- `remember_token` - リメンバートークン
- `created_at` - 作成日時
- `updated_at` - 更新日時

### 2. projects テーブル
プロジェクト情報を管理するテーブルです。

**フィールド:**
- `id` - 主キー（自動インクリメント）
- `user_id` - ユーザーID（外部キー、インデックス付き）
- `project_name` - プロジェクト名
- `created_at` - 作成日時
- `updated_at` - 更新日時

**リレーション:**
- `users` テーブルとの1対多関係（1ユーザー → 複数プロジェクト）

### 3. tasks テーブル
タスク情報を管理するテーブルです。

**フィールド:**
- `id` - 主キー（自動インクリメント）
- `user_id` - ユーザーID（外部キー、インデックス付き）
- `projects_id` - プロジェクトID（外部キー、インデックス付き）
- `task_name` - タスク名
- `fix` - タスクの固定状態（'0': 未固定, '1': 固定）
- `start_day` - タスク開始日
- `end_day` - タスク終了日
- `created_at` - 作成日時
- `updated_at` - 更新日時

**リレーション:**
- `users` テーブルとの1対多関係（1ユーザー → 複数タスク）
- `projects` テーブルとの1対多関係（1プロジェクト → 複数タスク）

## マイグレーションファイル

### 実行順序
1. `0001_01_01_000000_create_users_table.php` - ユーザーテーブル作成
2. `2025_08_13_202843_create_projects_table.php` - プロジェクトテーブル作成
3. `2025_08_14_000000_create_tasks_table.php` - タスクテーブル作成

### マイグレーション実行コマンド
```bash
# マイグレーション実行
php artisan migrate

# マイグレーションロールバック
php artisan migrate:rollback

# マイグレーションリセット（全テーブル削除・再作成）
php artisan migrate:fresh

# マイグレーション状態確認
php artisan migrate:status
```

## インデックス
- `users` テーブル: `email` フィールドにユニークインデックス
- `projects` テーブル: `user_id` フィールドにインデックス
- `tasks` テーブル: `user_id` と `projects_id` フィールドにインデックス

## データ型
- **ID**: 自動インクリメント整数
- **外部キー**: 整数型
- **文字列**: VARCHAR（255文字まで）
- **テキスト**: TEXT（長文対応）
- **日付**: DATE（YYYY-MM-DD形式）
- **日時**: TIMESTAMP（YYYY-MM-DD HH:MM:SS形式）
- **真偽値**: VARCHAR（'0'/'1'文字列として保存）

## セキュリティ考慮事項
- パスワードはLaravelのHash機能でハッシュ化
- 外部キー制約によりデータ整合性を保証
- インデックスにより検索パフォーマンスを最適化
- ユーザーIDによるデータ分離（マルチテナント対応）


